{
  "query": "CREATE TABLE IF NOT EXISTS `notification_subscriptions` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `endpoint` text NOT NULL,\n  `p256dh` text NOT NULL,\n  `auth` text NOT NULL,\n  `userAgent` varchar(512),\n  `isActive` boolean NOT NULL DEFAULT true,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `notification_subscriptions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `notification_preferences` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `newDrops` boolean NOT NULL DEFAULT true,\n  `newEvents` boolean NOT NULL DEFAULT true,\n  `eventReminders` boolean NOT NULL DEFAULT true,\n  `exclusiveContent` boolean NOT NULL DEFAULT true,\n  `referralUpdates` boolean NOT NULL DEFAULT true,\n  `systemAnnouncements` boolean NOT NULL DEFAULT true,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `notification_preferences_id` PRIMARY KEY(`id`),\n  CONSTRAINT `notification_preferences_userId_unique` UNIQUE(`userId`)\n);\n\nCREATE TABLE IF NOT EXISTS `notifications` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `type` enum('new_drop','new_event','event_reminder','exclusive_content','referral_joined','referral_marked','system_announcement','reputation_milestone') NOT NULL,\n  `title` varchar(255) NOT NULL,\n  `body` text NOT NULL,\n  `data` text,\n  `isRead` boolean NOT NULL DEFAULT false,\n  `sentAt` timestamp,\n  `readAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `notifications_id` PRIMARY KEY(`id`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3gXnTNTdZCBcu6S.3066a4e269ee --database cVz8pxyPALhhBHJqgpAifY --execute CREATE TABLE IF NOT EXISTS `notification_subscriptions` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `endpoint` text NOT NULL,\n  `p256dh` text NOT NULL,\n  `auth` text NOT NULL,\n  `userAgent` varchar(512),\n  `isActive` boolean NOT NULL DEFAULT true,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `notification_subscriptions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `notification_preferences` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `newDrops` boolean NOT NULL DEFAULT true,\n  `newEvents` boolean NOT NULL DEFAULT true,\n  `eventReminders` boolean NOT NULL DEFAULT true,\n  `exclusiveContent` boolean NOT NULL DEFAULT true,\n  `referralUpdates` boolean NOT NULL DEFAULT true,\n  `systemAnnouncements` boolean NOT NULL DEFAULT true,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `notification_preferences_id` PRIMARY KEY(`id`),\n  CONSTRAINT `notification_preferences_userId_unique` UNIQUE(`userId`)\n);\n\nCREATE TABLE IF NOT EXISTS `notifications` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `type` enum('new_drop','new_event','event_reminder','exclusive_content','referral_joined','referral_marked','system_announcement','reputation_milestone') NOT NULL,\n  `title` varchar(255) NOT NULL,\n  `body` text NOT NULL,\n  `data` text,\n  `isRead` boolean NOT NULL DEFAULT false,\n  `sentAt` timestamp,\n  `readAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `notifications_id` PRIMARY KEY(`id`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2346
}